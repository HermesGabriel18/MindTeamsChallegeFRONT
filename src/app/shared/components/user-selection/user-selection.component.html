<h2>Agregar usuario</h2>
<div>
  <form *ngIf="userForm" [formGroup]="userForm">
    <div class="row">
      <div class="col-sm-12">
        <ng-select
          [items]="usersList"
          placeholder="Usuarios"
          bindLabel="name"
          bindValue="id"
          [loading]="selectLoading"
          [virtualScroll]="true"
          (scroll)="onScrollUsers($event)"
          (scrollToEnd)="onScrollToEnd()"
          formControlName="id"
        >
          <ng-template ng-header-tmp>
            <small class="form-text text-muted">
              Cargados {{ usersList.length }} de
              {{ usersTotal }}
            </small>
          </ng-template>
        </ng-select>
        <small *ngIf="userForm.get('id').invalid" class="text-danger">
          Debe seleccionar un usuario
        </small>
      </div>
    </div>
  </form>
  <button
    mat-raised-button
    type="submit"
    class="btn btn-danger pull-right"
    [disabled]="userForm.invalid || isLoading"
    (click)="addUser()"
  >
    Guardar
  </button>
  <button
    mat-raised-button
    type="button"
    class="btn btn-default pull-right"
    (click)="cancel()"
    [disabled]="isLoading"
  >
    Cancelar
  </button>
</div>
